<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cdtu.mapper.StudentSignInMapper">
	<insert id="insertAll">
		INSERT INTO student_sign_in (ss_id, ps_id, s_id)
		VALUES
		<foreach collection="list" item="item" separator=",">
			(#{item.ssId}, #{item.psId}, #{item.sId})
		</foreach>
	</insert>

	<update id="updateStudentSignIn">
		UPDATE student_sign_in
		SET ss_status = 1, ss_mark = #{mark}, ss_time = #{time}
		WHERE ps_id = #{psId}
		AND s_id = #{sId}
	</update>

	<select id="selectByPsIdAndSId" resultType="java.util.HashMap">
		SELECT ss_status AS ssStatus, ss_mark AS mark
		FROM student_sign_in
		WHERE ps_id = #{psId}
		AND s_id = #{sId}
	</select>
	
	<select id="selectStatus" resultType="java.lang.Boolean">
		SELECT ss_status
		FROM student_sign_in
		WHERE ps_id = #{psId}
		AND s_id = #{sId}
	</select>
</mapper>